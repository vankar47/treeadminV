{"version":3,"sources":["components/Inputs/Input.js","http/media.js","assets/img/img-placeholder.png","components/Inputs/Toggle.js","http/categories.js","components/Inputs/SearchSelect.js","pages/categories/AddCategory.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","MyInput","props","error","label","className","onChange","classes","a","createElement","Object","assign","autoComplete","e","target","value","_services_http__WEBPACK_IMPORTED_MODULE_0__","__webpack_exports__","uploadImage","data","onUploadProgress","http","post","uploadVideo","module","exports","p","checked","Fragment","type","preventDefault","edit","_id","form","adminAuthToken","put","x-auth-token","create","get","delete","react__WEBPACK_IMPORTED_MODULE_1___default","react_select__WEBPACK_IMPORTED_MODULE_2__","style","color","schema","name","Joi","string","min","max","trim","required","image","allow","optional","allowedTypes","array","items","allowedTypesOptions","AddUser","_this","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","createCategory","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","_this$state","tempData","temp","i","t","errors","wrap","_context","prev","next","state","isUploading","abrupt","alert","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","length","push","validateSchema","setState","loading","categoriesHttp","sent","toast","success","react__WEBPACK_IMPORTED_MODULE_9___default","_components_Popups_ToastBody__WEBPACK_IMPORTED_MODULE_20__","title","message","history","goBack","t0","console","log","handleHttpErrors","finish","stop","onImageChange","_ref2","_callee2","file","reader","formData","res","_context2","files","FileReader","readAsDataURL","onloadend","imagePreview","result","bind","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","uploadProgress","FormData","append","mediaHttp","_x","apply","arguments","progressEvent","percentCompleted","Math","round","loaded","total","_this2","_this$state2","_components_Headers_Header__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_14__","fluid","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","reactstrap__WEBPACK_IMPORTED_MODULE_17__","onSubmit","src","imagePlaceholder","width","alt","reactstrap__WEBPACK_IMPORTED_MODULE_18__","for","id","_components_Inputs_Input__WEBPACK_IMPORTED_MODULE_11__","placeholder","_components_Inputs_SearchSelect__WEBPACK_IMPORTED_MODULE_25__","isMulti","v","options","Component","connect","auth"],"mappings":"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","file":"static/js/8.27368482.chunk.js","sourcesContent":["import React from \"react\";\nimport { FormGroup, Input, Label } from \"reactstrap\";\n\nconst MyInput = props => {\n  const { error, label, className, onChange } = props;\n  let classes = className + \" form-control form-control-alternative text-black\";\n  if (error) {\n    classes = classes + \" border border-danger\";\n  }\n  return (\n    <FormGroup>\n      {label && <Label className=\"form-control-label\">{label}</Label>}\n      <Input\n        {...props}\n        className={classes}\n        autoComplete=\"off\"\n        onChange={e => {\n          if (onChange) onChange(e.target.value);\n        }}\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </FormGroup>\n  );\n};\n\nexport default MyInput;\n","import http from \"../services/http\";\n\nconst uploadImage = (data, onUploadProgress) => {\n  return http.post(\"/media/image\", data, {}, {}, { onUploadProgress });\n};\n\nconst uploadVideo = (data, onUploadProgress) => {\n  return http.post(\"/media/video\", data, {}, {}, { onUploadProgress });\n};\n\nexport default { uploadImage, uploadVideo };\n","module.exports = __webpack_public_path__ + \"static/media/img-placeholder.eeffb618.png\";","import React from \"react\";\n\nexport default props => {\n  const { checked, onChange, label } = props;\n  return (\n    <>\n      {label && <label className=\"form-control-label mt-2\">{label}</label>}\n      <br />\n      <label className=\"custom-toggle mt-2\">\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          onChange={e => {\n            e.preventDefault();\n            onChange(e.target.checked);\n          }}\n        />\n        <span className=\"custom-toggle-slider rounded-circle\"></span>\n      </label>\n    </>\n  );\n};\n","import http from \"../services/http\";\n\nconst create = (form, adminAuthToken) => {\n  return http.post(\"/categories\", form, { \"x-auth-token\": adminAuthToken });\n};\nconst get = (_id, adminAuthToken) => {\n  return http.get(\"/categories/\" + _id, { \"x-auth-token\": adminAuthToken });\n};\n\nconst edit = (_id, form, adminAuthToken) => {\n  return http.put(\"/categories/\" + _id, form, {\n    \"x-auth-token\": adminAuthToken,\n  });\n};\n\nconst del = (_id, adminAuthToken) => {\n  return http.delete(\"/categories/\" + _id, { \"x-auth-token\": adminAuthToken });\n};\nexport default {\n  edit,\n  create,\n  get,\n  delete: del,\n};\n","import React from \"react\";\nimport Select from \"react-select\";\n\nexport default (props) => {\n  const { error, label, value } = props;\n  let classes = \"my-select\";\n  if (error) {\n    classes = classes + \" my-input-error\";\n  }\n\n  return (\n    <div className=\"form-group\">\n      {label && <label>{label}</label>}\n      <Select\n        // styles={customStyles}\n        {...props}\n        className={classes}\n      />\n      {error && (\n        <p className=\"my-input-error-text\" style={{ color: \"red\" }}>\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n\nconst customStyles = {\n  control: (provided) => ({\n    ...provided,\n    border: \"none\",\n    outline: \"none\",\n    boxShadow: \"none\",\n  }),\n};\n","import React, { Component } from \"react\";\nimport Header from \"../../components/Headers/Header\";\nimport Input from \"../../components/Inputs/Input\";\nimport Toggle from \"../../components/Inputs/Toggle\";\nimport Joi from \"joi-browser\";\nimport { Container, Card, CardBody, CardHeader, Progress } from \"reactstrap\";\nimport { toast } from \"react-toastify\";\nimport ToastBody from \"../../components/Popups/ToastBody\";\nimport validateSchema from \"../../helpers/validation\";\nimport { handleHttpErrors } from \"../../helpers/error\";\nimport categoriesHttp from \"../../http/categories\";\nimport { connect } from \"react-redux\";\nimport SearchSelect from \"../../components/Inputs/SearchSelect\";\nimport mediaHttp from \"../../http/media\";\nimport imagePlaceholder from \"../../assets/img/img-placeholder.png\";\nconst schema = {\n  name: Joi.string().min(2).max(50).trim().required(),\n  image: Joi.string().allow(\"\").trim().optional(),\n  allowedTypes: Joi.array().items(Joi.string().trim()).min(1).required(),\n};\n\nconst allowedTypesOptions = [\n  { value: \"image\", label: \"Image\" },\n  { value: \"video\", label: \"Video\" },\n  { value: \"audio\", label: \"Audio\" },\n  // { value: \"document\", label: \"Document\" },\n  { value: \"texteditor\", label: \"Text Editor\" },\n];\n\nclass AddUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imagePreview: null,\n      isUploading: false,\n      uploadProgress: 0,\n      form: {\n        image: \"\",\n        name: \"\",\n        allowedTypes: [],\n      },\n      errors: {},\n    };\n  }\n\n  createCategory = async () => {\n    const { form, isUploading } = this.state;\n    if (isUploading) return alert(\"Please wait until image upload comletes.\");\n    const tempData = {\n      ...form,\n    };\n    const temp = [];\n    for (let i = 0; i < form.allowedTypes.length; i++) {\n      const t = form.allowedTypes[i];\n      temp.push(t.value);\n    }\n    tempData.allowedTypes = temp;\n\n    const errors = validateSchema(tempData, schema);\n    if (errors) return this.setState({ errors });\n\n    try {\n      this.setState({ loading: true });\n      const { adminAuthToken } = this.props;\n      const category = await categoriesHttp.create(tempData, adminAuthToken);\n      toast.success(\n        <ToastBody title=\"Success\" message=\"Category created successfuly\" />\n      );\n      //going back\n      const { history } = this.props;\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      handleHttpErrors(err);\n    } finally {\n      this.setState({ loading: false });\n    }\n  };\n\n  onImageChange = async (e) => {\n    var file = e.target.files[0];\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = function (e) {\n      this.setState({ imagePreview: reader.result });\n    }.bind(this);\n\n    try {\n      const { form } = this.state;\n      this.setState({ isUploading: true, uploadProgress: 0 });\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      const res = await mediaHttp.uploadImage(formData, this.onUploadProgress);\n      form.image = res.data._id;\n      this.setState({ form });\n      console.log(form);\n    } catch (err) {\n      handleHttpErrors(err);\n    } finally {\n      this.setState({ isUploading: false });\n    }\n  };\n\n  onUploadProgress = (progressEvent) => {\n    var percentCompleted = Math.round(\n      (progressEvent.loaded * 100) / progressEvent.total\n    );\n    this.setState({ uploadProgress: percentCompleted });\n  };\n\n  render() {\n    const {\n      form,\n      errors,\n      imagePreview,\n      isUploading,\n      uploadProgress,\n    } = this.state;\n    return (\n      <>\n        <Header />\n        <Container className=\"mt--7\" fluid>\n          <Card className=\"shadow\">\n            <CardHeader>\n              <div className=\"clearfix\">\n                <h2 className=\"mb-0 float-left\">Add Category</h2>\n              </div>\n            </CardHeader>\n            <CardBody className=\"bg-secondary\">\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  this.createCategory();\n                }}\n              >\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <img\n                      className=\"mb-2\"\n                      src={imagePreview || imagePlaceholder}\n                      style={{ width: \"200px\" }}\n                      alt=\"category image\"\n                    />\n                    {isUploading && (\n                      <Progress\n                        value={uploadProgress}\n                        style={{ width: \"200px\" }}\n                      />\n                    )}\n                    <br />\n                    <label for=\"imageInput\">\n                      <span className=\"btn btn-primary btn-sm\">Pick Image</span>\n                    </label>\n                    <input\n                      type=\"file\"\n                      onChange={this.onImageChange}\n                      className=\"d-none\"\n                      id=\"imageInput\"\n                    />\n                  </div>\n                  <div className=\"col-md-6\">\n                    <Input\n                      label=\"Name\"\n                      value={form.name}\n                      placeholder=\"Name\"\n                      onChange={(name) => {\n                        form.name = name;\n                        errors.name = \"\";\n                        this.setState({ form, errors });\n                      }}\n                      error={errors.name}\n                    />\n                  </div>\n                  <div className=\"col-md-6\">\n                    <SearchSelect\n                      name=\"allowedTypes\"\n                      label=\"File Type\"\n                      isMulti={true}\n                      placeholder=\"File Type\"\n                      value={this.state.form.allowedTypes}\n                      onChange={(v) => {\n                        form.allowedTypes = v;\n                        errors.allowedTypes = \"\";\n                        this.setState({ form });\n                      }}\n                      options={allowedTypesOptions}\n                      error={errors.allowedTypes}\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <div className=\"text-center\">\n                      <button className=\"btn btn-primary m-auto\" type=\"submit\">\n                        Save\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </CardBody>\n          </Card>\n        </Container>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    adminAuthToken: state.auth.adminAuthToken,\n  };\n};\n\nexport default connect(mapStateToProps)(AddUser);\n"],"sourceRoot":""}