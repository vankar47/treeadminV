{"version":3,"sources":["components/Inputs/Input.js","http/media.js","assets/img/img-placeholder.png","components/Inputs/Toggle.js","http/categories.js","components/Inputs/SearchSelect.js","pages/categories/EditCategory.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","MyInput","props","error","label","className","onChange","classes","a","createElement","Object","assign","autoComplete","e","target","value","_services_http__WEBPACK_IMPORTED_MODULE_0__","__webpack_exports__","uploadImage","data","onUploadProgress","http","post","uploadVideo","module","exports","p","checked","Fragment","type","preventDefault","edit","_id","form","adminAuthToken","put","x-auth-token","create","get","delete","react__WEBPACK_IMPORTED_MODULE_1___default","react_select__WEBPACK_IMPORTED_MODULE_2__","style","color","schema","name","Joi","string","min","max","trim","required","image","allow","optional","allowedTypes","array","items","allowedTypesOptions","EditUser","_this","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","componentDidMount","match","params","getCategory","_ref","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","mark","_callee2","id","wrap","_context2","prev","next","delegateYield","_callee","res","imagePreview","_loop","i","_context","setState","loading","categoriesHttp","sent","t","forEach","o","push","length","stop","t1","handleHttpErrors","finish","_x","apply","arguments","editCategory","_callee3","_this$state","tempData","temp","errors","_context3","state","isUploading","abrupt","alert","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","validateSchema","toast","success","react__WEBPACK_IMPORTED_MODULE_9___default","_components_Popups_ToastBody__WEBPACK_IMPORTED_MODULE_20__","title","message","t0","console","log","onImageChange","_ref3","_callee4","file","reader","formData","_res","_context4","files","FileReader","readAsDataURL","onloadend","result","bind","_Users_abubakarvance_Downloads_treeadmin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","uploadProgress","FormData","append","mediaHttp","_x2","progressEvent","percentCompleted","Math","round","loaded","total","_this2","_this$state2","_components_Headers_Header__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_14__","fluid","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","reactstrap__WEBPACK_IMPORTED_MODULE_17__","onSubmit","src","imagePlaceholder","width","alt","reactstrap__WEBPACK_IMPORTED_MODULE_18__","for","_components_Inputs_Input__WEBPACK_IMPORTED_MODULE_11__","placeholder","_components_Inputs_SearchSelect__WEBPACK_IMPORTED_MODULE_25__","isMulti","v","options","Component","connect","auth"],"mappings":"0FAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAAAI,EAAAJ,EAAA,KAAAK,EAAAL,EAAA,KAyBeM,IAtBC,SAAAC,GAAS,IACfC,EAAsCD,EAAtCC,MAAOC,EAA+BF,EAA/BE,MAAOC,EAAwBH,EAAxBG,UAAWC,EAAaJ,EAAbI,SAC7BC,EAAUF,EAAY,oDAI1B,OAHIF,IACFI,GAAoB,yBAGpBX,EAAAY,EAAAC,cAACX,EAAA,EAAD,KACGM,GAASR,EAAAY,EAAAC,cAACV,EAAA,EAAD,CAAOM,UAAU,sBAAsBD,GACjDR,EAAAY,EAAAC,cAACT,EAAA,EAADU,OAAAC,OAAA,GACMT,EADN,CAEEG,UAAWE,EACXK,aAAa,MACbN,SAAU,SAAAO,GACJP,GAAUA,EAASO,EAAEC,OAAOC,WAGnCZ,GAASP,EAAAY,EAAAC,cAAA,OAAKJ,UAAU,sBAAsBF,uCCpBrD,IAAAa,EAAArB,EAAA,IAUesB,EAAA,GAAEC,YARG,SAACC,EAAMC,GACzB,OAAOC,IAAKC,KAAK,eAAgBH,EAAM,GAAI,GAAI,CAAEC,sBAOrBG,YAJV,SAACJ,EAAMC,GACzB,OAAOC,IAAKC,KAAK,eAAgBH,EAAM,GAAI,GAAI,CAAEC,4CCPnDI,EAAAC,QAAiB9B,EAAA+B,EAAuB,8ECAxC,IAAAhC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAEeuB,EAAA,WAAAf,GAAS,IACdyB,EAA6BzB,EAA7ByB,QAASrB,EAAoBJ,EAApBI,SAAUF,EAAUF,EAAVE,MAC3B,OACER,EAAAY,EAAAC,cAAAb,EAAAY,EAAAoB,SAAA,KACGxB,GAASR,EAAAY,EAAAC,cAAA,SAAOJ,UAAU,2BAA2BD,GACtDR,EAAAY,EAAAC,cAAA,WACAb,EAAAY,EAAAC,cAAA,SAAOJ,UAAU,sBACfT,EAAAY,EAAAC,cAAA,SACEoB,KAAK,WACLF,QAASA,EACTrB,SAAU,SAAAO,GACRA,EAAEiB,iBACFxB,EAASO,EAAEC,OAAOa,YAGtB/B,EAAAY,EAAAC,cAAA,QAAMJ,UAAU,6ECjBxB,IAAAW,EAAArB,EAAA,IAkBesB,EAAA,GACbc,KAVW,SAACC,EAAKC,EAAMC,GACvB,OAAOb,IAAKc,IAAI,eAAiBH,EAAKC,EAAM,CAC1CG,eAAgBF,KASlBG,OAlBa,SAACJ,EAAMC,GACpB,OAAOb,IAAKC,KAAK,cAAeW,EAAM,CAAEG,eAAgBF,KAkBxDI,IAhBU,SAACN,EAAKE,GAChB,OAAOb,IAAKiB,IAAI,eAAiBN,EAAK,CAAEI,eAAgBF,KAgBxDK,OAPU,SAACP,EAAKE,GAChB,OAAOb,IAAKkB,OAAO,eAAiBP,EAAK,CAAEI,eAAgBF,4ECb9CjB,EAAA,WAACf,GAAU,IAChBC,EAAwBD,EAAxBC,MAAOC,EAAiBF,EAAjBE,MACXG,GAD4BL,EAAVa,MACR,aAKd,OAJIZ,IACFI,GAAoB,mBAIpBiC,EAAAhC,EAAAC,cAAA,OAAKJ,UAAU,cACZD,GAASoC,EAAAhC,EAAAC,cAAA,aAAQL,GAClBoC,EAAAhC,EAAAC,cAACgC,EAAA,EAAD/B,OAAAC,OAAA,GAEMT,EAFN,CAGEG,UAAWE,KAEZJ,GACCqC,EAAAhC,EAAAC,cAAA,KAAGJ,UAAU,sBAAsBqC,MAAO,CAAEC,MAAO,QAChDxC,iUCLLyC,EAAS,CACbC,KAAMC,IAAIC,SAASC,IAAI,GAAGC,IAAI,IAAIC,OAAOC,WACzCC,MAAON,IAAIC,SAASM,MAAM,IAAIH,OAAOI,WACrCC,aAAcT,IAAIU,QAAQC,MAAMX,IAAIC,SAASG,QAAQF,IAAI,GAAGG,YAGxDO,EAAsB,CAC1B,CAAE3C,MAAO,QAASX,MAAO,SACzB,CAAEW,MAAO,QAASX,MAAO,SACzB,CAAEW,MAAO,QAASX,MAAO,SAEzB,CAAEW,MAAO,aAAcX,MAAO,gBAG1BuD,cACJ,SAAAA,EAAYzD,GAAO,IAAA0D,EAAA,OAAAlD,OAAAmD,EAAA,EAAAnD,CAAAoD,KAAAH,IACjBC,EAAAlD,OAAAqD,EAAA,EAAArD,CAAAoD,KAAApD,OAAAsD,EAAA,EAAAtD,CAAAiD,GAAAM,KAAAH,KAAM5D,KAcRgE,kBAAoB,WAAM,IAChBlC,EAAQ4B,EAAK1D,MAAMiE,MAAMC,OAAzBpC,IACR4B,EAAKS,YAAYrC,IAjBA4B,EAmBnBS,YAnBmB,eAAAC,EAAA5D,OAAA6D,EAAA,EAAA7D,CAAA8D,EAAAhE,EAAAiE,KAmBL,SAAAC,EAAOC,GAAP,IAAAzC,EAAA,OAAAsC,EAAAhE,EAAAoE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACJ7C,EAAmB0B,EAAK1D,MAAxBgC,eADI2C,EAAAC,KAAA,EAAAD,EAAAG,cAAAR,EAAAhE,EAAAiE,KAAA,SAAAQ,IAAA,IAAAC,EAAAC,EAAA5B,EAAA6B,EAAAC,EAAApD,EAAA,OAAAuC,EAAAhE,EAAAoE,KAAA,SAAAU,GAAA,cAAAA,EAAAR,KAAAQ,EAAAP,MAAA,cAGVnB,EAAK2B,SAAS,CAAEC,SAAS,IAHfF,EAAAP,KAAA,EAIQU,IAAenD,IAAIqC,EAAIzC,GAJ/B,OAQV,IAJMgD,EAJII,EAAAI,KAKJP,EAAeD,EAAI/D,KAAKiC,MAExBG,EAAe,GAPX6B,EAAA,SAQDC,GACP,IAAMM,EAAIT,EAAI/D,KAAKoC,aAAa8B,GAChC3B,EAAoBkC,QAAQ,SAACC,GACvBA,EAAE9E,QAAU4E,GACdpC,EAAauC,KAAKD,MAJfR,EAAI,EAAGA,EAAIH,EAAI/D,KAAKoC,aAAawC,OAAQV,IAAKD,EAA9CC,GASHpD,EAAO,CACXY,KAAMqC,EAAI/D,KAAK0B,KACfU,gBAEFK,EAAK2B,SAAS,CAAEJ,eAAclD,SArBpB,yBAAAqD,EAAAU,SAAAf,IAAAT,GAAA,eAAAK,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAoB,GAAApB,EAAA,SAuBVqB,YAAgBrB,EAAAoB,IAvBN,cAAApB,EAAAC,KAAA,EAyBVlB,EAAK2B,SAAS,CAAEC,SAAS,IAzBfX,EAAAsB,OAAA,4BAAAtB,EAAAmB,SAAAtB,EAAA,sBAnBK,gBAAA0B,GAAA,OAAA9B,EAAA+B,MAAAvC,KAAAwC,YAAA,GAAA1C,EAgDnB2C,aAhDmB7F,OAAA6D,EAAA,EAAA7D,CAAA8D,EAAAhE,EAAAiE,KAgDJ,SAAA+B,IAAA,IAAAC,EAAAxE,EAAAyE,EAAAC,EAAAtB,EAAAM,EAAAiB,EAAA5E,EAAAE,EAAA,OAAAsC,EAAAhE,EAAAoE,KAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,UAAA0B,EACiB7C,EAAKkD,MAA3B7E,EADKwE,EACLxE,MADKwE,EACCM,YADD,CAAAF,EAAA9B,KAAA,eAAA8B,EAAAG,OAAA,SAEWC,MAAM,6CAFjB,OAOb,IAJMP,EAHOhG,OAAAwG,EAAA,EAAAxG,CAAA,GAIRuB,GAEC0E,EAAO,GACJtB,EAAI,EAAGA,EAAIpD,EAAKsB,aAAawC,OAAQV,IACtCM,EAAI1D,EAAKsB,aAAa8B,GAC5BsB,EAAKb,KAAKH,EAAE5E,OATD,GAWb2F,EAASnD,aAAeoD,IAElBC,EAASO,YAAeT,EAAU9D,IAb3B,CAAAiE,EAAA9B,KAAA,gBAAA8B,EAAAG,OAAA,SAcMpD,EAAK2B,SAAS,CAAEqB,YAdtB,eAAAC,EAAA/B,KAAA,GAiBXlB,EAAK2B,SAAS,CAAEC,SAAS,IACjBxD,EAAQ4B,EAAK1D,MAAMiE,MAAMC,OAAzBpC,IACAE,EAAmB0B,EAAK1D,MAAxBgC,eAnBG2E,EAAA9B,KAAA,GAoBYU,IAAe1D,KAAKC,EAAK0E,EAAUxE,GApB/C,QAAA2E,EAAAnB,KAqBX0B,QAAMC,QACJC,EAAA9G,EAAAC,cAAC8G,EAAA,EAAD,CAAWC,MAAM,UAAUC,QAAQ,kCAtB1BZ,EAAA9B,KAAA,iBAAA8B,EAAA/B,KAAA,GAAA+B,EAAAa,GAAAb,EAAA,UAyBXc,QAAQC,IAARf,EAAAa,IACAxB,YAAgBW,EAAAa,IA1BL,eAAAb,EAAA/B,KAAA,GA4BXlB,EAAK2B,SAAS,CAAEC,SAAS,IA5BdqB,EAAAV,OAAA,6BAAAU,EAAAb,SAAAQ,EAAA,yBAhDI5C,EAgFnBiE,cAhFmB,eAAAC,EAAApH,OAAA6D,EAAA,EAAA7D,CAAA8D,EAAAhE,EAAAiE,KAgFH,SAAAsD,EAAOlH,GAAP,IAAAmH,EAAAC,EAAAhG,EAAAiG,EAAAC,EAAA,OAAA3D,EAAAhE,EAAAoE,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,cACViD,EAAOnH,EAAEC,OAAOuH,MAAM,IACtBJ,EAAS,IAAIK,YACVC,cAAcP,GACrBC,EAAOO,UAAY,SAAU3H,GAC3BiD,KAAKyB,SAAS,CAAEJ,aAAc8C,EAAOQ,UACrCC,KAFiBhI,OAAAiI,EAAA,EAAAjI,QAAAiI,EAAA,EAAAjI,CAAAkD,KAJLwE,EAAAtD,KAAA,EASJ7C,EAAS2B,EAAKkD,MAAd7E,KACR2B,EAAK2B,SAAS,CAAEwB,aAAa,EAAM6B,eAAgB,KAC7CV,EAAW,IAAIW,UACZC,OAAO,QAASd,GAZbI,EAAArD,KAAA,GAaMgE,IAAU7H,YAAYgH,EAAUtE,EAAKxC,kBAb3C,QAaN8D,EAbMkD,EAAA1C,KAcZzD,EAAKmB,MAAQ8B,EAAI/D,KAAKa,IACtB4B,EAAK2B,SAAS,CAAEtD,SAChB0F,QAAQC,IAAI3F,GAhBAmG,EAAArD,KAAA,iBAAAqD,EAAAtD,KAAA,GAAAsD,EAAAV,GAAAU,EAAA,SAkBZlC,YAAgBkC,EAAAV,IAlBJ,eAAAU,EAAAtD,KAAA,GAoBZlB,EAAK2B,SAAS,CAAEwB,aAAa,IApBjBqB,EAAAjC,OAAA,6BAAAiC,EAAApC,SAAA+B,EAAA,wBAhFG,gBAAAiB,GAAA,OAAAlB,EAAAzB,MAAAvC,KAAAwC,YAAA,GAAA1C,EAwGnBxC,iBAAmB,SAAC6H,GAClB,IAAIC,EAAmBC,KAAKC,MACF,IAAvBH,EAAcI,OAAgBJ,EAAcK,OAE/C1F,EAAK2B,SAAS,CAAEqD,eAAgBM,KA1GhCtF,EAAKkD,MAAQ,CACX3B,aAAc,KACd4B,aAAa,EACb6B,eAAgB,EAChB3G,KAAM,CACJmB,MAAO,GACPP,KAAM,GACNU,aAAc,IAEhBqD,OAAQ,IAXOhD,wEA+GV,IAAA2F,EAAAzF,KAAA0F,EAOH1F,KAAKgD,MALP7E,EAFKuH,EAELvH,KACA2E,EAHK4C,EAGL5C,OACAzB,EAJKqE,EAILrE,aACA4B,EALKyC,EAKLzC,YACA6B,EANKY,EAMLZ,eAEF,OACEtB,EAAA9G,EAAAC,cAAA6G,EAAA9G,EAAAoB,SAAA,KACE0F,EAAA9G,EAAAC,cAACgJ,EAAA,EAAD,MACAnC,EAAA9G,EAAAC,cAACiJ,EAAA,EAAD,CAAWrJ,UAAU,QAAQsJ,OAAK,GAChCrC,EAAA9G,EAAAC,cAACmJ,EAAA,EAAD,CAAMvJ,UAAU,UACdiH,EAAA9G,EAAAC,cAACoJ,EAAA,EAAD,KACEvC,EAAA9G,EAAAC,cAAA,OAAKJ,UAAU,YACbiH,EAAA9G,EAAAC,cAAA,MAAIJ,UAAU,mBAAd,mBAGJiH,EAAA9G,EAAAC,cAACqJ,EAAA,EAAD,CAAUzJ,UAAU,gBAClBiH,EAAA9G,EAAAC,cAAA,QACEsJ,SAAU,SAAClJ,GACTA,EAAEiB,iBACFyH,EAAKhD,iBAGPe,EAAA9G,EAAAC,cAAA,OAAKJ,UAAU,OACbiH,EAAA9G,EAAAC,cAAA,OAAKJ,UAAU,UACbiH,EAAA9G,EAAAC,cAAA,OACEJ,UAAU,OACV2J,IAAK7E,GAAgB8E,IACrBvH,MAAO,CAAEwH,MAAO,SAChBC,IAAI,mBAELpD,GACCO,EAAA9G,EAAAC,cAAC2J,EAAA,EAAD,CACErJ,MAAO6H,EACPlG,MAAO,CAAEwH,MAAO,WAGpB5C,EAAA9G,EAAAC,cAAA,WACA6G,EAAA9G,EAAAC,cAAA,SAAO4J,IAAI,cACT/C,EAAA9G,EAAAC,cAAA,QAAMJ,UAAU,0BAAhB,eAEFiH,EAAA9G,EAAAC,cAAA,SACEoB,KAAK,OACLvB,SAAUwD,KAAK+D,cACfxH,UAAU,SACVsE,GAAG,gBAGP2C,EAAA9G,EAAAC,cAAA,OAAKJ,UAAU,YACbiH,EAAA9G,EAAAC,cAAC6J,EAAA,EAAD,CACElK,MAAM,OACNW,MAAOkB,EAAKY,KACZ0H,YAAY,OACZjK,SAAU,SAACuC,GACTZ,EAAKY,KAAOA,EACZ+D,EAAO/D,KAAO,GACd0G,EAAKhE,SAAS,CAAEtD,OAAM2E,YAExBzG,MAAOyG,EAAO/D,QAGlByE,EAAA9G,EAAAC,cAAA,OAAKJ,UAAU,YACbiH,EAAA9G,EAAAC,cAAC+J,EAAA,EAAD,CACE3H,KAAK,eACLzC,MAAM,YACNqK,SAAS,EACTF,YAAY,YACZxJ,MAAO+C,KAAKgD,MAAM7E,KAAKsB,aACvBjD,SAAU,SAACoK,GACT/C,QAAQC,IAAI,WAAY8C,GACxBzI,EAAKsB,aAAemH,EACpB9D,EAAOrD,aAAe,GACtBgG,EAAKhE,SAAS,CAAEtD,UAElB0I,QAASjH,EACTvD,MAAOyG,EAAOrD,gBAGlB+D,EAAA9G,EAAAC,cAAA,OAAKJ,UAAU,UACbiH,EAAA9G,EAAAC,cAAA,OAAKJ,UAAU,eACbiH,EAAA9G,EAAAC,cAAA,UAAQJ,UAAU,yBAAyBwB,KAAK,UAAhD,uBAlMC+I,aAuNRC,sBANS,SAAC/D,GACvB,MAAO,CACL5E,eAAgB4E,EAAMgE,KAAK5I,iBAIhB2I,CAAyBlH","file":"static/js/9.939bb12e.chunk.js","sourcesContent":["import React from \"react\";\nimport { FormGroup, Input, Label } from \"reactstrap\";\n\nconst MyInput = props => {\n  const { error, label, className, onChange } = props;\n  let classes = className + \" form-control form-control-alternative text-black\";\n  if (error) {\n    classes = classes + \" border border-danger\";\n  }\n  return (\n    <FormGroup>\n      {label && <Label className=\"form-control-label\">{label}</Label>}\n      <Input\n        {...props}\n        className={classes}\n        autoComplete=\"off\"\n        onChange={e => {\n          if (onChange) onChange(e.target.value);\n        }}\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </FormGroup>\n  );\n};\n\nexport default MyInput;\n","import http from \"../services/http\";\n\nconst uploadImage = (data, onUploadProgress) => {\n  return http.post(\"/media/image\", data, {}, {}, { onUploadProgress });\n};\n\nconst uploadVideo = (data, onUploadProgress) => {\n  return http.post(\"/media/video\", data, {}, {}, { onUploadProgress });\n};\n\nexport default { uploadImage, uploadVideo };\n","module.exports = __webpack_public_path__ + \"static/media/img-placeholder.eeffb618.png\";","import React from \"react\";\n\nexport default props => {\n  const { checked, onChange, label } = props;\n  return (\n    <>\n      {label && <label className=\"form-control-label mt-2\">{label}</label>}\n      <br />\n      <label className=\"custom-toggle mt-2\">\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          onChange={e => {\n            e.preventDefault();\n            onChange(e.target.checked);\n          }}\n        />\n        <span className=\"custom-toggle-slider rounded-circle\"></span>\n      </label>\n    </>\n  );\n};\n","import http from \"../services/http\";\n\nconst create = (form, adminAuthToken) => {\n  return http.post(\"/categories\", form, { \"x-auth-token\": adminAuthToken });\n};\nconst get = (_id, adminAuthToken) => {\n  return http.get(\"/categories/\" + _id, { \"x-auth-token\": adminAuthToken });\n};\n\nconst edit = (_id, form, adminAuthToken) => {\n  return http.put(\"/categories/\" + _id, form, {\n    \"x-auth-token\": adminAuthToken,\n  });\n};\n\nconst del = (_id, adminAuthToken) => {\n  return http.delete(\"/categories/\" + _id, { \"x-auth-token\": adminAuthToken });\n};\nexport default {\n  edit,\n  create,\n  get,\n  delete: del,\n};\n","import React from \"react\";\nimport Select from \"react-select\";\n\nexport default (props) => {\n  const { error, label, value } = props;\n  let classes = \"my-select\";\n  if (error) {\n    classes = classes + \" my-input-error\";\n  }\n\n  return (\n    <div className=\"form-group\">\n      {label && <label>{label}</label>}\n      <Select\n        // styles={customStyles}\n        {...props}\n        className={classes}\n      />\n      {error && (\n        <p className=\"my-input-error-text\" style={{ color: \"red\" }}>\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n\nconst customStyles = {\n  control: (provided) => ({\n    ...provided,\n    border: \"none\",\n    outline: \"none\",\n    boxShadow: \"none\",\n  }),\n};\n","import React, { Component } from \"react\";\nimport Header from \"../../components/Headers/Header\";\nimport Input from \"../../components/Inputs/Input\";\nimport Toggle from \"../../components/Inputs/Toggle\";\nimport Joi from \"joi-browser\";\nimport { Container, Card, CardBody, CardHeader, Progress } from \"reactstrap\";\nimport { toast } from \"react-toastify\";\nimport ToastBody from \"../../components/Popups/ToastBody\";\nimport validateSchema from \"../../helpers/validation\";\nimport { handleHttpErrors } from \"../../helpers/error\";\nimport categoriesHttp from \"../../http/categories\";\nimport { connect } from \"react-redux\";\nimport SearchSelect from \"../../components/Inputs/SearchSelect\";\nimport mediaHttp from \"../../http/media\";\nimport imagePlaceholder from \"../../assets/img/img-placeholder.png\";\nconst schema = {\n  name: Joi.string().min(2).max(50).trim().required(),\n  image: Joi.string().allow(\"\").trim().optional(),\n  allowedTypes: Joi.array().items(Joi.string().trim()).min(1).required(),\n};\n\nconst allowedTypesOptions = [\n  { value: \"image\", label: \"Image\" },\n  { value: \"video\", label: \"Video\" },\n  { value: \"audio\", label: \"Audio\" },\n  // { value: \"document\", label: \"Document\" },\n  { value: \"texteditor\", label: \"Text Editor\" },\n];\n\nclass EditUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imagePreview: null,\n      isUploading: false,\n      uploadProgress: 0,\n      form: {\n        image: \"\",\n        name: \"\",\n        allowedTypes: [],\n      },\n      errors: {},\n    };\n  }\n\n  componentDidMount = () => {\n    const { _id } = this.props.match.params;\n    this.getCategory(_id);\n  };\n  getCategory = async (id) => {\n    const { adminAuthToken } = this.props;\n    try {\n      this.setState({ loading: true });\n      const res = await categoriesHttp.get(id, adminAuthToken);\n      const imagePreview = res.data.image;\n\n      const allowedTypes = [];\n      for (let i = 0; i < res.data.allowedTypes.length; i++) {\n        const t = res.data.allowedTypes[i];\n        allowedTypesOptions.forEach((o) => {\n          if (o.value === t) {\n            allowedTypes.push(o);\n            return;\n          }\n        });\n      }\n      const form = {\n        name: res.data.name,\n        allowedTypes,\n      };\n      this.setState({ imagePreview, form });\n    } catch (err) {\n      handleHttpErrors(err);\n    } finally {\n      this.setState({ loading: false });\n    }\n  };\n\n  editCategory = async () => {\n    const { form, isUploading } = this.state;\n    if (isUploading) return alert(\"Please wait until image upload comletes.\");\n    const tempData = {\n      ...form,\n    };\n    const temp = [];\n    for (let i = 0; i < form.allowedTypes.length; i++) {\n      const t = form.allowedTypes[i];\n      temp.push(t.value);\n    }\n    tempData.allowedTypes = temp;\n\n    const errors = validateSchema(tempData, schema);\n    if (errors) return this.setState({ errors });\n\n    try {\n      this.setState({ loading: true });\n      const { _id } = this.props.match.params;\n      const { adminAuthToken } = this.props;\n      const category = await categoriesHttp.edit(_id, tempData, adminAuthToken);\n      toast.success(\n        <ToastBody title=\"Success\" message=\"Category editted successfuly\" />\n      );\n    } catch (err) {\n      console.log(err);\n      handleHttpErrors(err);\n    } finally {\n      this.setState({ loading: false });\n    }\n  };\n\n  onImageChange = async (e) => {\n    var file = e.target.files[0];\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = function (e) {\n      this.setState({ imagePreview: reader.result });\n    }.bind(this);\n\n    try {\n      const { form } = this.state;\n      this.setState({ isUploading: true, uploadProgress: 0 });\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      const res = await mediaHttp.uploadImage(formData, this.onUploadProgress);\n      form.image = res.data._id;\n      this.setState({ form });\n      console.log(form);\n    } catch (err) {\n      handleHttpErrors(err);\n    } finally {\n      this.setState({ isUploading: false });\n    }\n  };\n\n  onUploadProgress = (progressEvent) => {\n    var percentCompleted = Math.round(\n      (progressEvent.loaded * 100) / progressEvent.total\n    );\n    this.setState({ uploadProgress: percentCompleted });\n  };\n\n  render() {\n    const {\n      form,\n      errors,\n      imagePreview,\n      isUploading,\n      uploadProgress,\n    } = this.state;\n    return (\n      <>\n        <Header />\n        <Container className=\"mt--7\" fluid>\n          <Card className=\"shadow\">\n            <CardHeader>\n              <div className=\"clearfix\">\n                <h2 className=\"mb-0 float-left\">Edit Category</h2>\n              </div>\n            </CardHeader>\n            <CardBody className=\"bg-secondary\">\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  this.editCategory();\n                }}\n              >\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <img\n                      className=\"mb-2\"\n                      src={imagePreview || imagePlaceholder}\n                      style={{ width: \"200px\" }}\n                      alt=\"category image\"\n                    />\n                    {isUploading && (\n                      <Progress\n                        value={uploadProgress}\n                        style={{ width: \"200px\" }}\n                      />\n                    )}\n                    <br />\n                    <label for=\"imageInput\">\n                      <span className=\"btn btn-primary btn-sm\">Pick Image</span>\n                    </label>\n                    <input\n                      type=\"file\"\n                      onChange={this.onImageChange}\n                      className=\"d-none\"\n                      id=\"imageInput\"\n                    />\n                  </div>\n                  <div className=\"col-md-6\">\n                    <Input\n                      label=\"Name\"\n                      value={form.name}\n                      placeholder=\"Name\"\n                      onChange={(name) => {\n                        form.name = name;\n                        errors.name = \"\";\n                        this.setState({ form, errors });\n                      }}\n                      error={errors.name}\n                    />\n                  </div>\n                  <div className=\"col-md-6\">\n                    <SearchSelect\n                      name=\"allowedTypes\"\n                      label=\"File Type\"\n                      isMulti={true}\n                      placeholder=\"File Type\"\n                      value={this.state.form.allowedTypes}\n                      onChange={(v) => {\n                        console.log(\"Value =>\", v);\n                        form.allowedTypes = v;\n                        errors.allowedTypes = \"\";\n                        this.setState({ form });\n                      }}\n                      options={allowedTypesOptions}\n                      error={errors.allowedTypes}\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <div className=\"text-center\">\n                      <button className=\"btn btn-primary m-auto\" type=\"submit\">\n                        Save\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </CardBody>\n          </Card>\n        </Container>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    adminAuthToken: state.auth.adminAuthToken,\n  };\n};\n\nexport default connect(mapStateToProps)(EditUser);\n"],"sourceRoot":""}