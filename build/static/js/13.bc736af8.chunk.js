(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{390:function(e,t,a){"use strict";var n=a(39);t.a={edit:function(e,t){return n.a.post("/users/edit",e,{"x-auth-token":t})},create:function(e,t){return n.a.post("/users",e,{"x-auth-token":t})},get:function(e,t){return n.a.get("/users/admin/"+e,{"x-auth-token":t})},createUserSession:function(e,t){return n.a.post("/users/create_user_session/"+e,{},{"x-auth-token":t})}}},426:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(14),s=a(16),l=a(15),c=a(17),i=a(0),u=a.n(i),o=a(86),m=a(356),d=a(369),f=a(388),h=a(370),p=a(360),b=a(12),E=a(21),v=a.n(E),g=a(37),k=a(24),w=a.n(k),x=a(23),N=(a(396),a(392)),y=a(390),C=a(85),j=a(31);N.DataTable=a(397);var O=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={loading:!1},a.componentDidMount=function(){N("#userTable").DataTable({language:{paginate:{next:'<span class="pagination-fa"><i class="fa fa-chevron-right" ></i></span>',previous:'<span class="pagination-fa"><i class="fa fa-chevron-left" ></i></span>'}},processing:!0,serverSide:!0,order:[[0,"_id"]],ajax:{url:b.a+"/users",type:"GET"},columns:[{data:"username"},{data:"name"},{data:"email"},{data:"isBlocked"},{data:"isEmailVerified"}],columnDefs:[{targets:0,createdCell:a.renderUsernameCell},{targets:2,createdCell:a.renderEmailCell},{targets:3,createdCell:a.renderBlockedCell},{targets:4,createdCell:a.renderLinkButtons}]})},a.createUserSession=function(){var e=Object(g.a)(v.a.mark(function e(t){var n,r,s,l,c,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to use this users session?")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a.setState({loading:!0}),n=a.props.adminAuthToken,e.next=8,y.a.createUserSession(t,n);case 8:r=e.sent,s=r.headers,l=r.data,c=s["x-auth-token"],i=l,j.a.save("xAuthToken",c),j.a.save("user",i),window.location.href="/",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),Object(C.a)(e.t0);case 20:return e.prev=20,a.setState({loading:!1}),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[3,17,20,23]])}));return function(t){return e.apply(this,arguments)}}(),a.renderUsernameCell=function(e,t,a,n,r){return w.a.render(u.a.createElement("div",null,"@",t),e)},a.renderEmailCell=function(e,t,a,n,r){return w.a.render(u.a.createElement("div",null,t," ",u.a.createElement("span",{className:"ml-1"},u.a.createElement("i",{className:1!=a.isEmailVerified?"fa fa-times text-danger":"fas fa-check text-success"}))),e)},a.renderBlockedCell=function(e,t,a,n,r){return w.a.render(u.a.createElement("div",null,t?"Blocked":"Active"),e)},a.renderLinkButtons=function(e,t,n,r,s){return w.a.render(u.a.createElement("div",null,u.a.createElement("button",{className:"btn btn-primary btn-sm ",onClick:function(){a.navigateToEditUser(n._id)}},u.a.createElement("i",{className:"fa fa-pencil-alt"})),u.a.createElement("button",{className:"btn btn-success btn-sm ",onClick:function(){a.createUserSession(n._id)}},u.a.createElement("i",{className:"fa fa-user"}))),e)},a.navigateToEditUser=function(e){a.props.history.push(b.b+"/users/"+e)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.loading;return u.a.createElement("div",{style:{position:"relative"}},u.a.createElement("table",{id:"userTable",className:"w-100 table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Username"),u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Email"),u.a.createElement("th",null,"Status"),u.a.createElement("th",null,"Actions")))),e&&u.a.createElement("div",{className:"pt-5",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)"}},u.a.createElement("h1",{className:"text-white text-center "},"Generating Session")))}}]),t}(i.Component),T=Object(x.b)(function(e){return{adminAuthToken:e.auth.adminAuthToken}})(O),U=function(e){function t(e){return Object(n.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(o.a,null),u.a.createElement(m.a,{className:"mt--7",fluid:!0},u.a.createElement(d.a,{className:"shadow"},u.a.createElement(f.a,{className:"bg-secondary"},u.a.createElement("div",{className:"clearfix"},u.a.createElement("h2",{className:"mb-0 float-left"},"Users"),u.a.createElement(p.a,{className:"float-right btn btn-dark btn-sm",to:b.b+"/users/add"},"Add ",u.a.createElement("i",{className:"fa fa-user text-white"})))),u.a.createElement(h.a,null,u.a.createElement(T,{history:this.props.history})))))}}]),t}(i.Component);t.default=U}}]);
//# sourceMappingURL=13.bc736af8.chunk.js.map