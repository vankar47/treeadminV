(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{382:function(e,a,t){"use strict";var r=t(0),n=t.n(r),s=t(364),o=t(389),l=t(367);a.a=function(e){var a=e.error,t=e.label,r=e.className,i=e.onChange,c=r+" form-control form-control-alternative text-black";return a&&(c+=" border border-danger"),n.a.createElement(s.a,null,t&&n.a.createElement(o.a,{className:"form-control-label"},t),n.a.createElement(l.a,Object.assign({},e,{className:c,autoComplete:"off",onChange:function(e){i&&i(e.target.value)}})),a&&n.a.createElement("div",{className:"alert alert-danger"},a))}},383:function(e,a,t){"use strict";var r=t(39);a.a={uploadImage:function(e,a){return r.a.post("/media/image",e,{},{},{onUploadProgress:a})},uploadVideo:function(e,a){return r.a.post("/media/video",e,{},{},{onUploadProgress:a})}}},384:function(e,a,t){e.exports=t.p+"static/media/img-placeholder.eeffb618.png"},385:function(e,a,t){"use strict";var r=t(39);a.a={edit:function(e,a){return r.a.put("/cms/login_screen/update",e,{"x-auth-token":a})},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"web",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.a.get("/cms/login_screen?platform="+e,{"x-auth-token":a})}}},387:function(e,a){var t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,i=parseInt,c=Object.prototype.toString;function u(e){var a=typeof e;return!!e&&("object"==a||"function"==a)}e.exports=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&c.call(e)==r}(e))return t;if(u(e)){var a="function"==typeof e.valueOf?e.valueOf():e;e=u(a)?a+"":a}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var m=o.test(e);return m||l.test(e)?i(e.slice(2),m?2:8):s.test(e)?t:+e}},388:function(e,a,t){"use strict";var r=t(3),n=t(4),s=t(0),o=t.n(s),l=t(1),i=t.n(l),c=t(5),u=t.n(c),m=t(2),d={tag:m.l,className:i.a.string,cssModule:i.a.object},f=function(e){var a=e.className,t=e.cssModule,s=e.tag,l=Object(n.a)(e,["className","cssModule","tag"]),i=Object(m.i)(u()(a,"card-header"),t);return o.a.createElement(s,Object(r.a)({},l,{className:i}))};f.propTypes=d,f.defaultProps={tag:"div"},a.a=f},389:function(e,a,t){"use strict";var r=t(3),n=t(4),s=t(0),o=t.n(s),l=t(1),i=t.n(l),c=t(5),u=t.n(c),m=t(87),d=t.n(m),f=t(2),p=i.a.oneOfType([i.a.number,i.a.string]),g=i.a.oneOfType([i.a.string,i.a.number,i.a.shape({size:p,push:Object(f.f)(p,'Please use the prop "order"'),pull:Object(f.f)(p,'Please use the prop "order"'),order:p,offset:p})]),b={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:f.l,className:i.a.string,cssModule:i.a.object,xs:g,sm:g,md:g,lg:g,xl:g,widths:i.a.array},v={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},w=function(e){var a=e.className,t=e.cssModule,s=e.hidden,l=e.widths,i=e.tag,c=e.check,m=e.size,p=e.for,g=Object(n.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];l.forEach(function(a,r){var n=e[a];if(delete g[a],n||""===n){var s,o=!r;if(d()(n)){var l,i=o?"-":"-"+a+"-";s=h(o,a,n.size),b.push(Object(f.i)(u()(((l={})[s]=n.size||""===n.size,l["order"+i+n.order]=n.order||0===n.order,l["offset"+i+n.offset]=n.offset||0===n.offset,l))),t)}else s=h(o,a,n),b.push(s)}});var v=Object(f.i)(u()(a,!!s&&"sr-only",!!c&&"form-check-label",!!m&&"col-form-label-"+m,b,!!b.length&&"col-form-label"),t);return o.a.createElement(i,Object(r.a)({htmlFor:p},g,{className:v}))};w.propTypes=b,w.defaultProps=v,a.a=w},395:function(e,a,t){"use strict";var r=t(3),n=t(4),s=t(0),o=t.n(s),l=t(1),i=t.n(l),c=t(5),u=t.n(c),m=t(387),d=t.n(m),f=t(2),p={children:i.a.node,bar:i.a.bool,multi:i.a.bool,tag:f.l,value:i.a.oneOfType([i.a.string,i.a.number]),max:i.a.oneOfType([i.a.string,i.a.number]),animated:i.a.bool,striped:i.a.bool,color:i.a.string,className:i.a.string,barClassName:i.a.string,cssModule:i.a.object},g=function(e){var a=e.children,t=e.className,s=e.barClassName,l=e.cssModule,i=e.value,c=e.max,m=e.animated,p=e.striped,g=e.color,b=e.bar,v=e.multi,h=e.tag,w=Object(n.a)(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),y=d()(i)/d()(c)*100,j=Object(f.i)(u()(t,"progress"),l),N=Object(f.i)(u()("progress-bar",b&&t||s,m?"progress-bar-animated":null,g?"bg-"+g:null,p||m?"progress-bar-striped":null),l),O=v?a:o.a.createElement("div",{className:N,style:{width:y+"%"},role:"progressbar","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":c,children:a});return b?O:o.a.createElement(h,Object(r.a)({},w,{className:j,children:O}))};g.propTypes=p,g.defaultProps={tag:"div",value:0,max:100},a.a=g},424:function(e,a,t){"use strict";t.r(a);var r=t(21),n=t.n(r),s=t(37),o=t(13),l=t(14),i=t(16),c=t(15),u=t(17),m=t(45),d=t(0),f=t.n(d),p=t(86),g=t(395),b=t(356),v=t(369),h=t(388),w=t(370),y=(t(12),t(19),t(26),t(89)),j=t(88),N=t(85),O=t(23),x=t(383),E=t(384),k=t.n(E),P=t(43),S=t.n(P),M=(t(382),t(385)),B={loginBG:S.a.string().optional().allow("").trim(),artworkBy:S.a.string().min(2).max(50).trim().required(),artist:S.a.string().min(2).max(50).trim().required(),platform:S.a.string().min(2).max(50).trim().required()},C=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).componentDidMount=function(){},t.getData=Object(s.a)(n.a.mark(function e(){var a,r,s,o,l,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.setState({loading:!0}),a=t.state.form,e.next=5,M.a.get(a.platform);case 5:r=e.sent,s=r.data,o=s.loginBG,l=s.artist,i=s.artworkBy,a.artworkBy=i,a.artist=l,t.setState({form:a,imagePreview:o}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Object(N.a)(e.t0);case 15:return e.prev=15,t.setState({loading:!1}),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])})),t.onImageChange=function(){var e=Object(s.a)(n.a.mark(function e(a){var r,s,o,l,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.target.files[0],(s=new FileReader).readAsDataURL(r),s.onloadend=function(e){this.setState({imagePreview:s.result})}.bind(Object(m.a)(Object(m.a)(t))),e.prev=4,o=t.state.form,t.setState({isUploading:!0,uploadProgress:0}),(l=new FormData).append("image",r),e.next=11,x.a.uploadImage(l,t.onUploadProgress);case 11:i=e.sent,o.loginBG=i.data._id,t.setState({form:o}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),Object(N.a)(e.t0);case 19:return e.prev=19,t.setState({isUploading:!1}),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[4,16,19,22]])}));return function(a){return e.apply(this,arguments)}}(),t.onUploadProgress=function(e){var a=Math.round(100*e.loaded/e.total);t.setState({uploadProgress:a})},t.onFormSubmit=function(){var e=Object(s.a)(n.a.mark(function e(a){var r,s,o,l,i,c,u,m,d;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r=t.state,s=r.form,!r.isUploading){e.next=4;break}return e.abrupt("return",alert("Please wait until image upload comletes."));case 4:if(!(o=Object(j.a)(s,B))){e.next=7;break}return e.abrupt("return",t.setState({errors:o}));case 7:return e.prev=7,l=t.props.adminAuthToken,t.setState({loading:!0}),e.next=12,M.a.edit(s,l);case 12:i=e.sent,c=i.data,u=c.loginBG,m=c.artist,d=c.artworkBy,s.artworkBy=d,s.artist=m,t.setState({form:s,imagePreview:u}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),Object(N.a)(e.t0);case 22:return e.prev=22,t.setState({loading:!1}),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[7,19,22,25]])}));return function(a){return e.apply(this,arguments)}}(),t.showLoader=function(){return f.a.createElement("div",{className:"d-flex justify-content-center my-5"},f.a.createElement(y.HashLoader,{width:25,height:25,color:"#5e72e4"}))},t.renderForm=function(){var e=t.state,a=(e.form,e.errors,e.imagePreview),r=e.isUploading,n=e.uploadProgress;return f.a.createElement("form",{onSubmit:t.onFormSubmit},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-12"},f.a.createElement("img",{className:"mb-2",src:a||k.a,style:{width:"200px"},alt:"category image"}),r&&f.a.createElement(g.a,{value:n,style:{width:"200px"}}),f.a.createElement("br",null),f.a.createElement("label",{htmlFor:"imageInput"},f.a.createElement("span",{className:"btn btn-primary btn-sm"},"Pick Image")),f.a.createElement("input",{type:"file",onChange:t.onImageChange,className:"d-none",id:"imageInput"})),f.a.createElement("div",{className:"col-12"},f.a.createElement("div",{className:"text-center"},f.a.createElement("button",{className:"btn btn-primary m-auto",type:"submit"},"Save")))))},t.state={loading:!1,imagePreview:null,isUploading:!1,uploadProgress:0,form:{artworkBy:"",artist:"",platform:"web"},errors:{}},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.state.loading;return f.a.createElement(f.a.Fragment,null,f.a.createElement(p.a,null),f.a.createElement(b.a,{className:"mt--7",fluid:!0},f.a.createElement(v.a,{className:"shadow"},f.a.createElement(h.a,{className:"bg-secondary"},f.a.createElement("div",{className:"clearfix"},f.a.createElement("h2",{className:"mb-0 float-left"},"Feed Screen"))),f.a.createElement(w.a,null,e?this.showLoader():this.renderForm()))))}}]),a}(d.Component);a.default=Object(O.b)(function(e){return{adminAuthToken:e.auth.adminAuthToken}})(C)}}]);
//# sourceMappingURL=7.6476dbc8.chunk.js.map